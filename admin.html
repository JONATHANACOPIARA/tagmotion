<script>
function gerar(){

  const nome = document.getElementById('nome').value;
  const empresa = document.getElementById('empresa').value;
  const foto = document.getElementById('foto').value;
  const whatsapp = document.getElementById('whatsapp').value;
  const email = document.getElementById('email').value;
  const site = document.getElementById('site').value;
  const pix = document.getElementById('pix').value;

  const estabelecimento = document.getElementById('estabelecimento').value;
  const imagem = document.getElementById('imagem').value;
  const google = document.getElementById('google').value;

  const itens = document.getElementById('itens').value
    .split('\n')
    .filter(l => l.trim())
    .map(l => {
      const [n,p] = l.split('-');
      return `{ nome: "${n.trim()}", preco: "${(p||'').trim()}" }`;
    }).join(',\n      ');

  const js = `const data = {
  nome: "${nome}",
  empresa: "${empresa}",
  foto: "${foto}",
  whatsapp: "${whatsapp}",
  email: "${email}",
  site: "${site}",
  pix: "${pix}",

  cardapio: {
    estabelecimento: "${estabelecimento}",
    imagem: "${imagem}",
    itens: [
      ${itens}
    ]
  },

  avaliacoes: {
    google: "${google}"
  }
};`;

  document.getElementById('resultado').value = js;
}
</script>
