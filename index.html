<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Tag Motion</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<script src="./data.js" defer></script>
</head>

<body class="bg-neutral-100 p-4">

<div class="max-w-md mx-auto bg-white rounded-3xl shadow overflow-hidden">

<div class="p-6 text-center space-y-4">
<img id="foto" class="w-28 h-28 mx-auto rounded-full object-cover">
<h1 id="nome" class="text-2xl font-bold"></h1>
<p id="empresa" class="text-neutral-500"></p>

<a id="whatsapp" class="block bg-green-500 text-white py-3 rounded-xl">WhatsApp</a>
<a id="site" class="block bg-indigo-600 text-white py-3 rounded-xl">Site</a>

<button id="pix" class="w-full bg-purple-600 text-white py-3 rounded-xl">
Copiar PIX
</button>

<button id="wifiBtn" class="w-full bg-black text-white py-3 rounded-xl hidden">
Wi-Fi
</button>
</div>

<div id="avaliacoes" class="p-6 hidden"></div>

<div id="galeria" class="grid grid-cols-2 gap-3 p-4 hidden"></div>

</div>

<!-- WIFI MODAL -->
<div id="wifiModal" class="fixed inset-0 bg-black/70 hidden items-center justify-center">
<div class="bg-white p-6 rounded-2xl text-center space-y-4">
<img id="wifiQR" class="mx-auto w-48">
<button onclick="wifiModal.classList.add('hidden')" class="bg-black text-white py-2 px-4 rounded-xl">
Fechar
</button>
</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  if (!window.data) {
    alert('Erro ao carregar data.js');
    return;
  }

  foto.src = data.foto;
  nome.textContent = data.nome;
  empresa.textContent = data.empresa;

  whatsapp.href = 'https://wa.me/' + data.whatsapp;
  site.href = data.site;

  pix.onclick = () => {
    navigator.clipboard.writeText(data.pix);
    pix.textContent = 'PIX copiado âœ”';
  };

  if (data.wifi?.ssid) {
    wifiBtn.classList.remove('hidden');
    wifiBtn.onclick = () => {
      wifiModal.classList.remove('hidden');
      const txt = `WIFI:T:${data.wifi.tipo};S:${data.wifi.ssid};P:${data.wifi.senha};;`;
      wifiQR.src = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(txt)}`;
    };
  }

  if (data.avaliacoes?.google) {
    avaliacoes.classList.remove('hidden');
    avaliacoes.innerHTML =
      `<a href="${data.avaliacoes.google}" target="_blank"
      class="block bg-yellow-400 text-black py-3 rounded-xl text-center">
      Avaliar no Google</a>`;
  }

  if (data.galeria?.length) {
    galeria.classList.remove('hidden');
    data.galeria.forEach(f => {
      galeria.innerHTML += `
        <div>
          <img src="${f.img}" class="rounded-xl">
          ${f.texto ? `<p class="text-xs text-center">${f.texto}</p>` : ''}
        </div>`;
    });
  }
});
</script>

</body>
</html>
