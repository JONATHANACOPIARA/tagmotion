<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Tag Motion</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="./data.js" defer></script>
</head>

<body class="bg-neutral-100 min-h-screen flex justify-center p-4">

<div class="bg-white max-w-md w-full rounded-3xl shadow-xl overflow-hidden">

<div class="flex text-sm text-center border-b">
<button class="flex-1 py-3" onclick="show('cartao')">Cartão</button>
<button class="flex-1 py-3" onclick="show('cardapio')">Cardápio</button>
<button class="flex-1 py-3" onclick="show('galeria')">Fotos</button>
<button class="flex-1 py-3" onclick="show('avaliacoes')">Avaliações</button>
</div>

<div id="cartao" class="p-6 text-center space-y-4">
<img id="foto" class="w-28 h-28 mx-auto rounded-full object-cover">
<h1 id="nome" class="text-xl font-bold"></h1>
<p id="empresa" class="text-neutral-500"></p>

<a id="whatsapp" class="block bg-green-500 text-white py-3 rounded-xl">WhatsApp</a>
<a id="site" class="block bg-indigo-600 text-white py-3 rounded-xl">Site</a>

<button id="pix" class="w-full bg-purple-600 text-white py-3 rounded-xl">
Copiar PIX
</button>

<button id="wifiBtn" class="w-full bg-black text-white py-3 rounded-xl hidden">
Wi-Fi
</button>
</div>

<div id="cardapio" class="p-6 hidden"></div>
<div id="galeria" class="p-6 hidden grid grid-cols-2 gap-3"></div>
<div id="avaliacoes" class="p-6 hidden"></div>

</div>

<script>
function show(id){
['cartao','cardapio','galeria','avaliacoes'].forEach(s=>{
document.getElementById(s).classList.add('hidden')
});
document.getElementById(id).classList.remove('hidden');
}

document.addEventListener('DOMContentLoaded',()=>{
if(!window.data){ alert('Erro ao carregar data.js'); return;}

foto.src=data.foto;
nome.textContent=data.nome;
empresa.textContent=data.empresa;

whatsapp.href='https://wa.me/'+data.whatsapp;
site.href=data.site;

pix.onclick=()=>{
navigator.clipboard.writeText(data.pix);
pix.textContent='PIX copiado ✔';
};

if(data.cardapio?.itens){
cardapio.innerHTML='';
data.cardapio.itens.forEach(i=>{
cardapio.innerHTML+=`
<div class="flex justify-between border-b py-2">
<span>${i.nome}</span><strong>${i.preco}</strong>
</div>`;
});
}

if(data.galeria){
galeria.innerHTML='';
data.galeria.forEach(f=>{
galeria.innerHTML+=`<img src="${f}" class="rounded-xl">`;
});
}

if(data.avaliacoes?.google){
avaliacoes.innerHTML=`
<a href="${data.avaliacoes.google}" target="_blank"
class="block bg-yellow-400 py-4 rounded-xl text-center font-bold">
Avaliar no Google
</a>`;
}

show('cartao');
});
</script>

</body>
</html>
